(this["webpackJsonpadmin-panel-react"]=this["webpackJsonpadmin-panel-react"]||[]).push([[0],{58:function(e,t,s){},59:function(e,t,s){"use strict";s.r(t);var n=s(0),r=s(1),c=s(28),o=s.n(c),a=s(11),l=s(9),i=s(2),d=s(13),m=s.n(d);var j=function(){return Object(n.jsxs)("div",{className:"Home",children:[Object(n.jsxs)("div",{className:"header",children:[Object(n.jsxs)(l.b,{to:"/login",children:["Login ",Object(n.jsx)("small",{children:"(access without token)"})]}),Object(n.jsxs)(l.b,{to:"/dashboard",children:["Dashboard ",Object(n.jsx)("small",{children:"(access with token)"})]})]}),"Welcome!"]})},u=s(7),b=function(){return sessionStorage.getItem("token")||null},h=function(){sessionStorage.removeItem("token"),sessionStorage.removeItem("user")},x=function(e,t){sessionStorage.setItem("token",e),sessionStorage.setItem("user",JSON.stringify(t))},p=s.p+"static/media/logo-no-trace.8798001d.png",f=function(e){var t=Object(r.useState)(e),s=Object(a.a)(t,2),n=s[0],c=s[1];return{value:n,onChange:function(e){c(e.target.value)}}},g=function(e){var t=Object(r.useState)(!1),s=Object(a.a)(t,2),c=s[0],o=s[1],l=f(""),i=f(""),d=Object(r.useState)(null),j=Object(a.a)(d,2),b=j[0],h=j[1];return Object(n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:Object(n.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("img",{className:"mx-auto h-12 w-auto",src:p,alt:"Flito"}),Object(n.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"})]}),Object(n.jsxs)("form",{className:"mt-8 space-y-6",children:[Object(n.jsx)("input",{type:"hidden",name:"remember",value:"true"}),Object(n.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{htmlFor:"username",className:"sr-only",children:"Username"}),Object(n.jsx)("input",Object(u.a)(Object(u.a)({className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-yellow-500 focus:border-yellow-500 focus:z-10 sm:text-sm",type:"text",id:"username",name:"username"},l),{},{autoComplete:"new-password",placeholder:"Username",autoFocus:!0}))]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),Object(n.jsx)("input",Object(u.a)(Object(u.a)({className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-yellow-500 focus:border-yellow-500 focus:z-10 sm:text-sm",id:"password",name:"password",type:"password"},i),{},{autoComplete:"new-password",placeholder:"Password"}))]})]}),Object(n.jsx)("div",{className:"flex items-center justify-between",children:Object(n.jsxs)("div",{className:"flex items-center",children:[Object(n.jsx)("input",{id:"remember_me",name:"remember_me",type:"checkbox",className:"h-4 w-4 text-yellow-600 focus:ring-yellow-500 border-gray-300 rounded"}),Object(n.jsx)("label",{htmlFor:"remember_me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]})}),Object(n.jsx)("div",{children:b&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("small",{style:{color:"red"},children:b}),Object(n.jsx)("br",{})]})}),Object(n.jsx)("div",{className:"flex justify-center",children:Object(n.jsxs)("button",{className:"group relative \r w-1/2 \r flex justify-center\r py-2 px-4 \r border border-transparent \r text-sm font-medium \r rounded-md \r text-white bg-yellow-600 hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500",onClick:function(){h(null),o(!0),m.a.post("http://localhost:4000/users/signin",{username:l.value,password:i.value}).then((function(t){o(!1),x(t.data.token,t.data.user),e.history.push("/dashboard")})).catch((function(e){o(!1),console.log(e),e.response&&401===e.response.status?h(e.response.data.message):h("Something went wrong. Please try again later.")}))},disabled:c,children:[Object(n.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:Object(n.jsx)("svg",{className:"h-5 w-5 text-yellow-500 group-hover:text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:Object(n.jsx)("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})}),c?"Loading...":"Login"]})})]})]})})},O=function(e){return Object(n.jsxs)("nav",{className:"bg-yellow-500",children:[Object(n.jsx)("div",{className:"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8",children:Object(n.jsxs)("div",{className:"relative flex items-center justify-between h-16",children:[Object(n.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center sm:hidden",children:Object(n.jsxs)("button",{className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white","aria-expanded":"false",children:[Object(n.jsx)("span",{className:"sr-only",children:"Open main menu"}),Object(n.jsx)("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(n.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})}),Object(n.jsx)("svg",{className:"hidden h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(n.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})})]})}),Object(n.jsxs)("div",{className:"flex-1 flex items-center justify-center sm:items-stretch sm:justify-start",children:[Object(n.jsxs)("div",{className:"flex-shrink-0 flex items-center",children:[Object(n.jsx)("img",{className:"block lg:hidden h-8 w-auto",src:p,alt:"Flito"}),Object(n.jsxs)("div",{className:"flex items-center justify-center",children:[Object(n.jsx)("img",{className:"hidden lg:block h-8 w-auto pr-3",src:p,alt:"Flito"}),Object(n.jsx)("h1",{className:"text-2xl font-bold",style:{fontFamily:"Roobert"},children:"Flito"})]})]}),Object(n.jsx)("div",{className:"hidden sm:block sm:ml-6",children:Object(n.jsxs)("div",{className:"flex space-x-4",children:[Object(n.jsx)("div",{className:"bg-yellow-900 text-white px-3 py-2 rounded-md text-sm font-medium cursor-pointer",children:"Dashboard"}),Object(n.jsx)("div",{className:"text-gray-800 hover:bg-yellow-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium cursor-pointer",children:"Team"}),Object(n.jsx)("div",{className:"text-gray-800 hover:bg-yellow-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium cursor-pointer",children:"Projects"}),Object(n.jsx)("div",{className:"text-gray-800 hover:bg-yellow-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium cursor-pointer",children:"Calendar"})]})})]}),Object(n.jsxs)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0",children:[Object(n.jsxs)("button",{className:"bg-yellow-800 p-1 rounded-full text-gray-100 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-yellow-800 focus:ring-white",children:[Object(n.jsx)("span",{className:"sr-only",children:"View notifications"}),Object(n.jsx)("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(n.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})]}),Object(n.jsxs)("div",{className:"ml-3 relative",children:[Object(n.jsx)("div",{children:Object(n.jsxs)("button",{className:"bg-yellow-800 flex text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-yellow-800 focus:ring-white",id:"user-menu","aria-haspopup":"true",children:[Object(n.jsx)("span",{className:"sr-only",children:"Open user menu"}),Object(n.jsx)("img",{className:"h-8 w-8 rounded-full",src:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",alt:""})]})}),Object(n.jsxs)("div",{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu",children:[Object(n.jsx)("div",{className:"block px-4 py-2 text-sm text-gray-700 hover:bg-yellow-100 cursor-pointer",role:"menuitem",children:"Your Profile"}),Object(n.jsx)("div",{className:"block px-4 py-2 text-sm text-gray-700 hover:bg-yellow-100 cursor-pointer",role:"menuitem",children:"Settings"}),Object(n.jsx)("div",{className:"block px-4 py-2 text-sm text-gray-700 hover:bg-yellow-100 cursor-pointer",role:"menuitem",onClick:function(){h(),e.history.push("/login")},children:"Sign out"})]})]})]})]})}),Object(n.jsx)("div",{className:"hidden sm:hidden",children:Object(n.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[Object(n.jsx)("div",{className:"bg-yellow-900 text-white block px-3 py-2 rounded-md text-base font-medium cursor-pointer",children:"Dashboard"}),Object(n.jsx)("div",{className:"text-gray-800 hover:bg-yellow-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium cursor-pointer",children:"Team"}),Object(n.jsx)("div",{className:"text-gray-800 hover:bg-yellow-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium cursor-pointer",children:"Projects"}),Object(n.jsx)("div",{className:"text-gray-800 hover:bg-yellow-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium cursor-pointer",children:"Calendar"})]})})]})},v=function(e){var t=function(){var e=sessionStorage.getItem("user");return e?JSON.parse(e):null}();return Object(n.jsxs)("div",{className:"MainPanel",children:[Object(n.jsx)(O,{history:e.history}),Object(n.jsx)("div",{className:"content",children:Object(n.jsxs)("p",{children:["Welcome ",t.name,"!"]})})]})},y=s(14),w=function(e){var t=e.component,s=Object(y.a)(e,["component"]);return Object(n.jsx)(i.b,Object(u.a)(Object(u.a)({},s),{},{render:function(e){return b()?Object(n.jsx)(t,Object(u.a)({},e)):Object(n.jsx)(i.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},N=function(e){var t=e.component,s=Object(y.a)(e,["component"]);return Object(n.jsx)(i.b,Object(u.a)(Object(u.a)({},s),{},{render:function(e){return b()?Object(n.jsx)(i.a,{to:{pathname:"/dashboard"}}):Object(n.jsx)(t,Object(u.a)({},e))}}))};var k=function(){var e=Object(r.useState)(!0),t=Object(a.a)(e,2),s=t[0],c=t[1];return Object(r.useEffect)((function(){var e=b();e&&m.a.get("http://localhost:4000/verifyToken?token=".concat(e)).then((function(e){x(e.data.token,e.data.user),c(!1)})).catch((function(e){h(),c(!1)}))}),[]),s&&b()?Object(n.jsx)("div",{className:"content",children:"Checking authentication..."}):Object(n.jsx)(l.a,{basename:"/admin-panel-react/",children:Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)(i.d,{children:[Object(n.jsx)(i.b,{path:"/",exact:!0,component:j}),Object(n.jsx)(N,{path:"/login",component:g}),Object(n.jsx)(w,{path:"/dashboard",component:v})]})})})},S=(s(58),function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,60)).then((function(t){var s=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;s(e),n(e),r(e),c(e),o(e)}))});o.a.render(Object(n.jsx)(k,{}),document.getElementById("root")),S()}},[[59,1,2]]]);
//# sourceMappingURL=main.59c8d5ea.chunk.js.map